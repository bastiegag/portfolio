import { useId } from 'react';
import { styled, useTheme } from '@mui/material';

import { useParallax } from '@shared/hooks/parallax/useParallax';

const WAVE_PATHS = [
	'M344.1,29.6c.2,1.7,38.5,4.3,42.7,4.7,4.1.4,10,.9,17,.7,5.9,0,12.3-1,18.2-1.5,3.2-.3,7.9-.8,11.1-.2,1.5.3,2.4.8,4,.8,2.4,0,4.8-.2,7.1,0,2.2,0,4.2.8,6.4.8,1.3,0,2.3-.1,3.5.5,1.4.8,2.1,2.3,3.4,3.1,2,1.2,6.1,1.6,8.4,1.7,2.6,0,4.9.8,7.5.8,2.6,0,5.2,0,7.8,0,3.4,0,6.5.7,9.9.8,4.7,0,9.3.4,13.9,1.3,8.4,1.6,16.4,1.7,25,1.7s11.7,0,17.6,0c2,0,3-.7,5-.7,3.4,0,6.7-1.7,10.1-2.2,2.7-.4,5.4-1,8.1-1.5,2.3-.4,4.2-1.5,6.7-1.6,4-.2,7.8.7,11.8.8,12.6.3,25.4.4,37.9-.7,1.7-.2,8.6-1.1,3.5-2.6-2.4-.7-5.2-.8-7.6-1.3-4.4-.9-8.7-2-13.1-2.6-11.2-1.7-23-.7-33.9-3.7-4.4-1.2-8.9-2.1-13.4-2.1-4.6,0-9-.8-13.5-.8-5.2,0-10.5,0-15.7,0-2.7,0-5.2-.7-8-.8-5.1-.2-21.5,1.1-19-7.4,6.8-1.7,14.4-1.7,21.3-1.6,4.8,0,9.6-.7,14.4-.8,4.9-.2,9.8,0,14.6,0h16.3c4.8,0,9,.3,13.7,1.1,5.1.9,10.2,1.7,14.8,4,1.6.8,2.8,1.3,4.6,1.7,2.9.7,5.8.8,8.8,1.3,6.2,1.1,12.4,1.4,18.6,2.8,4.4,1,8.9,1.7,13,3.4,1.7.7,4.1,1.8,5.9,2.2,2.9.6,6.5,0,9.5,0,2.4,0,5,.9,7.3,1.6,2.8.9,5.9,1.1,8.9,1.3,7.3.7,14.6.7,21.9,1.4,4.4.4,9,.9,13.4,1,3,0,6-.2,9.1,0,5.6.4,11.4,1,17,1.6,7,.7,14.1,2.1,21.2,2.1,4.3,0,8.3,0,12.4-.6,1.6-.3,3.3-.3,4.9-.5,1-.2,1.6-.5,2.7-.3-2.5-1.4-6.6-.3-8.8-2.1,4.8-.8,9.7-1.2,14.6-1.8,7.1-.8,14-2.3,21.1-3,2.7-.3,5.2-1.3,7.9-1.5,2.4-.2,4.7-.4,7.2-.7,2.2-.2,4.3.3,6.3-.6,1.2-.5,2-1.5,3.3-1.8,3.1-.7,7.2.4,10.2,1,3.1.6,6.2,1,9.2,1.7,1.7.4,3.2,1.1,5,1.2,1.2,0,2.5,0,3.8,0,1.9,0,3.6.6,5.4.8,1.8.2,11.2,1.8,10.9,4.4-2,.2-5,.8-6.6,1.8.4,1.6,4.2,1.5,5.6,1.9,2.6.7,5.1,1.1,7.8,1.7,5.1,1.1,10.3.7,15.5.8,3.5,0,7.2-.5,10.7-.8,3.3-.3,6.8-.7,10-1.3,3.1-.6,5.5.3,8.5.6,1.1.1,3.8.3,4.1-.6-4-1.2-8.2-1.8-12.2-3.1-1.4-.5-2-1.1-3.2-1.7-1.1-.5-1.8-.4-3-.8-.4-1.6,6.6-4.8,7.5-5.1,7.2-3,16.2-3,24-3.2,10.6-.2,21.3.6,31.9,1.4,7.8.6,15,2.8,22.5,4.8,0,0,.1,0,.2,0V0h-380c-6.7.6-13.6.5-20.2,1.6-4.1.7-8.4.9-12.5,2-1.2.3-2.8.6-4,1-1.2.5-2.2,1.3-3.5,1.7-2.3.7-5,1-7.4,1.2-4.9.5-10.2.5-15.1.8-5.1.2-10.3,0-15.4,0-6.2,0-12.4.8-18.6.8-9.1.1-18.2,0-27.2,0s-3.8.2-5.6,0c-1.5-.1-2.8-.8-4.4-.8-2.7-.1-5.8-.2-8.5.2-2.8.4-5.4.4-8.2.5-1.9.1-3.6.8-5.5.8-2.3,0-4.6-.1-6.8,0-6.5.2-13.5,2.2-19.9,3.2-6.8,1-27.7-.5-35.5.5,4.8,1.6,23,1.6,27.2,1.7,4.3,0,8.3.7,12.5,1.2,1.3.1,4.8,0,5.7,1.1.7.9-.8,3.6-1.6,4.4-1.7,1.9-4.6,2.2-7.1,2.5-2.6.3-5.1.7-7.7.7s-4.3-.5-6.5-.7c-5-.5-10.4,0-15.5,0-3.7,0-7.5-.2-11.2,0-1.9.1-8.3,1.1-10.4,1.1-29.2,0-43.3,3-43.2,4.2Z',
	'M0,0v50.8h1c3.5,0,6.1-1.2,9.4-2.2,7.2-2.3,14.2-2.7,21.8-2,7.6.7,14.5,2.9,22,1,3.7-.9,7-2.7,10.8-3.4,3.6-.7,7.2-.7,10.8-1.1,2.6-.3,5.1-.8,7.8-.6,2.9.2,5.8.7,8.7.8,3.6,0,7.2.3,10.8.9,7,1.2,13.9,2.8,21.1,2.9,4.7,0,9.5,0,14.2,0,7,0,13.9-.4,20.8-1.1,8.9-1,18.3-.2,27-2.3,2.9-.7,8.8-1.8,3.3-3.7-7-2.5-16.6-1.2-23.9-1.2s-9.2,0-13.8,0c-3,0-5.9,0-8.6-1.4-2.7-1.2-2.8-3.3-.6-5.1,4.9-4,13.4-3.4,19.5-3.4,8.5,0,16.6-.6,25-1.3,5.8-.5,10.7-2,16.3-3.3,3.3-.7,6.5-1.3,9.7-2.2,1.6-.5,4.1-.9,5.6-1.6,1.2-.5,1.8-1.5,2.9-2.1,3.3-1.8,9-2.1,12.7-2.3,4.8-.3,9.6-.4,14.4-1,2.8-.4,6.3-.6,8.9-1.5,2.5-.9,2.5-2.9,4.9-3.5,3.2-.8,8-1.5,11.3-.8,1.2.3,1.7.6,3,.7,3.3.2,6.6-.4,9.9-.6,11.1-.7,22.4-.2,33.5-.2s18.9,0,28.3,0c5,0,9.8.8,14.7.8,4.8,0,9.4-.2,14.2-.8,8.7-1.1,17.4-.8,26.2-.8-3.5,2.8-.2,2,1.3,0,.4-.5,1.1-1.6,1.3-2.3.3-1.1-.6-2.6.1-3.7.8-1.2,3-1.5,4.3-1.9,1-.2,2-.4,3-.6H0Z',
	'M398.6,19.9c-15.4-2.4-31.1-2.8-45.4-2.3-5.4.2-10.8.4-16.1,1-2.1.2-4.9.2-6.8,1,.3.5,2.5.7,3.4.9,4.1.7,8.7.9,13,1,5.5.2,10.9.5,16.4.5,4.7,0,9.4-.5,14.1-.5,4.9,0,10.2.2,14.9-.5,1.7-.2,6.2.3,6.4-1Z',
	'M868.9,51.9c2.2-.4,4.5-1.1,6.7-1.2,1.7,0,3.6,0,5.2.1,1.8.1,3.6.2,5.4.4.3,0,2.8,0,3.2.6-.5,1-2.7.8-3.8.9-1.5.2-2.9.6-4.4.7-1.8,0-3.5,0-5.3.1-3.1.2-6.1.7-9.2.7-.8,0-3.6.4-2.7-.8,1.2-1.6,5.2-1.3,4.8-1.5Z',
	'M896.7,60.3c8.2-.6,16.3-.1,24.5.6,4.7.4,9.3.9,13.9,2,1,.2,4.2.6,4.6,1.5-1,.3-2.3.2-3.3.4-1.9.3-3.9,0-5.8,0-2.7,0-5.5.4-8.2.9-3.4.5-6.7,1.4-10.1,1.7-3.6.4-7.2.5-10.8.5s-3.6.2-5.3,0c-1.5-.2-3.1,0-4.5-.4-1.4-.3-3.5-.8-3.2-2.4.3-1.4,1.8-1.6,2.9-2.2,1.9-1,3.3-1,5.5-2.6Z',
	'M843.2,63.7c-3.2-.2-6.1-.4-9.3-.4-1,0-3.4,0-4.2.7-1.7,1.3,3.3,2.1,4,2.2,3.4.5,7.6,1.4,10.8,0,.6-.3,1.8-.6,2-1.3.2-.8-.8-1.2-1.6-1h-1.7Z',
	'M729.1,43.6c3.1-.6,6.3-1.5,9.5-1.5,2.3,0,4.6-.1,6.8,0,1.8,0,3.4.3,5.2.4,1.9,0,4,.3,5.9.5,3.9.4,7.8.6,11.5,1.7,1.1.3,2.8,1.1,3.5,2,1.2,1.4.1,2.9-1.3,3.7-3.5,1.9-8.8,1.6-12.7,1.9-4,.3-8,.9-12,1.2-1.5.1-2.9.4-4.5.4-1.6,0-3.1,0-4.7,0-4.7,0-9.7.4-14.1-1.2-1.7-.6-3.3-3.2-3.4-4.6-.2-2.5,2.4-3,4.6-3.5,1.1-.2,2.2-.5,3.4-.8.6-.1,1.1,0,1.7-.2.6-.1,1-.3.4,0Z',
	'M637.3,43.2c-2.8-.4-5.6-.6-8.4-.9-2-.3-3.9-.1-5.9-.2-1.1,0-2.1-.3-3.2-.4-1.4,0-2.6.2-4,.3-2.2.2-4.4.3-6.6.5-1.7.2-4.8.4-6.1,1.7-1.3,1.3,1.7,2.2,2.8,2.4,1.9.4,3.8.3,5.6.5,1.3.2,2.5.5,3.8.4,1.5,0,2.9-.3,4.4-.4,1.9-.1,3.9-.2,5.7-.4,2.5-.3,5-1.1,7.5-1.4.9-.1,1.6-.1,2.5-.4.6-.2,1.1-.6,1.7-1.5Z',
];

export interface WavesProps {
	modifier: {
		x: number;
		y: number;
	};
	opacity?: number;
	x: number;
	y: number;
}

const WavesRoot = styled('g', {
	name: 'Waves',
	slot: 'root',
})(() => ({
	mixBlendMode: 'multiply',
}));

export const Waves = ({ modifier, opacity, x, y }: WavesProps) => {
	const id = CSS.escape(useId());
	const colors = useTheme().vars.palette;

	useParallax(`#${id}`, x, y, modifier, {
		pos: 'y',
		skew: true,
	});

	return (
		<WavesRoot
			id={id}
			className="Waves-root"
			fill="url(#waves-gradient)"
			fillOpacity={opacity ?? 1}
		>
			<defs>
				<linearGradient
					id="waves-gradient"
					x1="0%"
					x2="0%"
					y1="0%"
					y2="100%"
				>
					<stop offset="0%" stopColor={colors.water.dark} />
					<stop offset="100%" stopColor={colors.water.light} />
				</linearGradient>
			</defs>

			{WAVE_PATHS.map((d, index) => (
				<path key={index} d={d} />
			))}
		</WavesRoot>
	);
};
